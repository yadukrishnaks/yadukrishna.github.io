<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>OSP Project Checklist</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f4f6f8;
  }
  h2 { margin-top: 0; }
  h3 {
    margin-bottom: 6px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 4px;
  }
  .container {
    display: flex;
    height: 100vh;
  }
  .main {
    flex: 3;
    padding: 20px;
    overflow-y: auto;
  }
  .notes {
    flex: 1;
    border-left: 1px solid #ccc;
    padding: 20px;
    background: #fff;
  }
  .section {
    background: #fff;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 6px;
  }
  label {
    display: block;
    margin: 6px 0;
  }
  textarea {
    width: 100%;
    height: 85%;
    resize: none;
  }
  button {
    padding: 10px 15px;
    margin-right: 10px;
    cursor: pointer;
  }
  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
</style>
</head>

<body>
<div class="container">

  <!-- MAIN -->
  <div class="main">
    <h2 id="phaseTitle">Work Checklist</h2>
    <div id="checklist"></div>

    <button id="nextBtn" disabled>Done – Go to Self QC</button>
    <button onclick="resetAll()">Reset to Default</button>
  </div>

  <!-- NOTES -->
  <div class="notes">
    <h3>Notes / Reminders</h3>
    <textarea id="notes" placeholder="Tap models, jumps, special instructions..."></textarea>
  </div>

</div>

<script>
const checklistData = [
  {
    title: "Strand & Address",
    items: [
      "Update strand position",
      "Change address",
      "Rearrange strand position",
      "Resolve strand position access issue"
    ]
  },
  {
    title: "Coax, Node & Equipment",
    items: [
      "Update coax equipment",
      "Rearrange coax position (add jumps)",
      "Tap drop change",
      "AMP upgrade",
      "PS upgrade"
    ]
  },
  {
    title: "Boundary & Association",
    items: [
      "Update node and cable boundary",
      "Reshape boundary",
      "Associate node boundary to parent boundary",
      "Associate parent boundary to hub boundary",
      "Boundary association"
    ]
  },
  {
    title: "Power & Analysis",
    items: [
      "Update power owner",
      "Tag updation",
      "Analysis completed",
      "Power buildstate updation"
    ]
  },
  {
    title: "Catalog",
    items: [
      "Catalog reassignment"
    ]
  },
  {
    title: "Before Print",
    items: [
      "Change layer to coax for parcel",
      "BOM HAF fibre",
      "Splicing – internal connect till next splice or hub"
    ]
  },
  {
    title: "After Print",
    items: [
      "Update callout",
      "Circuit manager update",
      "BOM HAF",
      "Trace splice",
      "Splice overview",
      "Affected traffic",
      "Schematic"
    ]
  },
  {
    title: "Callouts",
    items: [
      "Area (A–F)",
      "Node",
      "Power",
      "Page",
      "Title block",
      "Terminator",
      "Splice"
    ]
  }
];

let phase = "work";
const checklistDiv = document.getElementById("checklist");
const nextBtn = document.getElementById("nextBtn");

function renderChecklist() {
  checklistDiv.innerHTML = "";
  checklistData.forEach(section => {
    const secDiv = document.createElement("div");
    secDiv.className = "section";

    const title = document.createElement("h3");
    title.innerText = section.title;
    secDiv.appendChild(title);

    section.items.forEach(item => {
      const label = document.createElement("label");
      label.innerHTML = `<input type="checkbox" onchange="checkAll()"> ${item}`;
      secDiv.appendChild(label);
    });

    checklistDiv.appendChild(secDiv);
  });
}

function checkAll() {
  const boxes = checklistDiv.querySelectorAll("input[type=checkbox]");
  nextBtn.disabled = ![...boxes].every(b => b.checked);
}

nextBtn.onclick = () => {
  if (phase === "work") {
    phase = "qc";
    document.getElementById("phaseTitle").innerText = "Self QC Checklist";
    nextBtn.innerText = "Completed";
    nextBtn.disabled = true;
    renderChecklist();
  } else {
    alert("Project Completed Successfully");
    resetAll();
  }
};

function resetAll() {
  phase = "work";
  document.getElementById("phaseTitle").innerText = "Work Checklist";
  nextBtn.innerText = "Done – Go to Self QC";
  nextBtn.disabled = true;
  document.getElementById("notes").value = "";
  renderChecklist();
}

renderChecklist();
</script>
</body>
</html>